@page "/payment/return/{SessionId:guid}"
@inject NavigationManager Navigation

<PageTitle>Payment Successful</PageTitle>

<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-10 text-center">
    <MudIcon Icon="@Icons.Material.Filled.CheckCircle" Color="Color.Success" Size="Size.Large" Style="font-size: 80px;" />

    <MudText Typo="Typo.h3" Color="Color.Success" Class="mt-4" GutterBottom="true">
        Payment Successful!
    </MudText>

    <MudText Typo="Typo.body1" Class="mt-4 mb-6">
        Thank you for your purchase. Your payment has been received and your full archetype report is now available.
    </MudText>

    <MudProgressCircular Color="Color.Primary" Indeterminate="true" Class="mb-4" />

    <MudText Typo="Typo.body2" Style="color: #666;">
        Redirecting you to your complete results...
    </MudText>
</MudContainer>

@code {
    [Parameter]
    public Guid SessionId { get; set; }

    protected override void OnInitialized()
    {
        // Redirect to results page after 3 seconds
        Task.Delay(3000).ContinueWith(_ =>
        {
            Navigation.NavigateTo($"/results/{SessionId}", forceLoad: true);
        });
    }
}
